/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package com.cinesys.ui;

import com.cinesys.DAO.GheDAO;
import com.cinesys.DAO.KhachHangDAO;
import com.cinesys.DAO.KhachHangDAO_TU;
import com.cinesys.entity.Ghe;
import com.cinesys.entity.KhachHang;
import com.cinesys.entity.KhachHang_TU;
import com.cinesys.entity.Ve;
import com.cinesys.untils.MsgBox;
import com.cinesys.untils.XDate;
import com.cinesys.untils.XDate1;
import com.google.zxing.BarcodeFormat;
import com.google.zxing.EncodeHintType;
import com.google.zxing.client.j2se.MatrixToImageWriter;
import com.google.zxing.common.BitMatrix;
import com.google.zxing.qrcode.QRCodeWriter;
import com.itextpdf.text.Element;
import com.itextpdf.text.FontFactory;
import com.itextpdf.text.PageSize;
import com.itextpdf.text.Phrase;
import java.awt.Color;
import java.awt.Font;
import java.io.FileOutputStream;
import java.util.ArrayList;
import java.util.Date;
import java.util.List;
import javax.swing.ImageIcon;
import javax.swing.JButton;
import javax.swing.JOptionPane;
import com.itextpdf.text.Paragraph;
import com.itextpdf.text.pdf.PdfWriter;
import com.itextpdf.text.Document;
import com.itextpdf.text.DocumentException;
import com.itextpdf.text.Image;
import com.itextpdf.text.pdf.PdfPCell;
import com.itextpdf.text.pdf.PdfPTable;
import java.awt.Desktop;
import java.io.File;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.util.Hashtable;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.ImageIcon;

/**
 *
 * @author tuanlva
 */
public class DatVeJDialog1 extends javax.swing.JDialog {

    /**
     * Creates new form DatVeJDialog1
     */
    public DatVeJDialog1(java.awt.Frame parent, boolean modal) {
        super(parent, modal);
        initComponents();
        init();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPanel1 = new javax.swing.JPanel();
        jLabel37 = new javax.swing.JLabel();
        jLabel2 = new javax.swing.JLabel();
        buttonGroup1 = new javax.swing.ButtonGroup();
        jScrollPane1 = new javax.swing.JScrollPane();
        pnlBackGround = new javax.swing.JPanel();
        jPanel2 = new javax.swing.JPanel();
        lblTenRap = new javax.swing.JLabel();
        lblTenPhong = new javax.swing.JLabel();
        jPanel3 = new javax.swing.JPanel();
        jLabel5 = new javax.swing.JLabel();
        jPanel6 = new javax.swing.JPanel();
        jPanel5 = new javax.swing.JPanel();
        btnA10 = new javax.swing.JButton();
        btnA9 = new javax.swing.JButton();
        btnA8 = new javax.swing.JButton();
        btnA7 = new javax.swing.JButton();
        btnA6 = new javax.swing.JButton();
        btnA5 = new javax.swing.JButton();
        btnA4 = new javax.swing.JButton();
        btnA3 = new javax.swing.JButton();
        btnA2 = new javax.swing.JButton();
        btnA1 = new javax.swing.JButton();
        jPanel7 = new javax.swing.JPanel();
        btnB10 = new javax.swing.JButton();
        btnB9 = new javax.swing.JButton();
        btnB8 = new javax.swing.JButton();
        btnB7 = new javax.swing.JButton();
        btnB6 = new javax.swing.JButton();
        btnB5 = new javax.swing.JButton();
        btnB4 = new javax.swing.JButton();
        btnB3 = new javax.swing.JButton();
        btnB2 = new javax.swing.JButton();
        btnB1 = new javax.swing.JButton();
        jPanel9 = new javax.swing.JPanel();
        btnC10 = new javax.swing.JButton();
        btnC9 = new javax.swing.JButton();
        btnC8 = new javax.swing.JButton();
        btnC7 = new javax.swing.JButton();
        btnC6 = new javax.swing.JButton();
        btnC5 = new javax.swing.JButton();
        btnC4 = new javax.swing.JButton();
        btnC3 = new javax.swing.JButton();
        btnC2 = new javax.swing.JButton();
        btnC1 = new javax.swing.JButton();
        jPanel8 = new javax.swing.JPanel();
        btnD10 = new javax.swing.JButton();
        btnD9 = new javax.swing.JButton();
        btnD8 = new javax.swing.JButton();
        btnD7 = new javax.swing.JButton();
        btnD6 = new javax.swing.JButton();
        btnD5 = new javax.swing.JButton();
        btnD4 = new javax.swing.JButton();
        btnD3 = new javax.swing.JButton();
        btnD2 = new javax.swing.JButton();
        btnD1 = new javax.swing.JButton();
        jPanel10 = new javax.swing.JPanel();
        btnE10 = new javax.swing.JButton();
        btnE9 = new javax.swing.JButton();
        btnE8 = new javax.swing.JButton();
        btnE7 = new javax.swing.JButton();
        btnE6 = new javax.swing.JButton();
        btnE5 = new javax.swing.JButton();
        btnE4 = new javax.swing.JButton();
        btnE3 = new javax.swing.JButton();
        btnE2 = new javax.swing.JButton();
        btnE1 = new javax.swing.JButton();
        jPanel11 = new javax.swing.JPanel();
        btnF10 = new javax.swing.JButton();
        btnF9 = new javax.swing.JButton();
        btnF8 = new javax.swing.JButton();
        btnF7 = new javax.swing.JButton();
        btnF6 = new javax.swing.JButton();
        btnF5 = new javax.swing.JButton();
        btnF4 = new javax.swing.JButton();
        btnF3 = new javax.swing.JButton();
        btnF2 = new javax.swing.JButton();
        btnF1 = new javax.swing.JButton();
        jPanel4 = new javax.swing.JPanel();
        lblHinhPhim = new javax.swing.JLabel();
        lblTenPhim = new javax.swing.JLabel();
        jLabel10 = new javax.swing.JLabel();
        jLabel7 = new javax.swing.JLabel();
        jLabel8 = new javax.swing.JLabel();
        jLabel11 = new javax.swing.JLabel();
        lblDaoDien = new javax.swing.JLabel();
        lblThoiLuong = new javax.swing.JLabel();
        lblNgayChieu = new javax.swing.JLabel();
        lblSuatChieu = new javax.swing.JLabel();
        jPanel12 = new javax.swing.JPanel();
        jLabel16 = new javax.swing.JLabel();
        jLabel17 = new javax.swing.JLabel();
        jLabel18 = new javax.swing.JLabel();
        jPanel13 = new javax.swing.JPanel();
        jPanel14 = new javax.swing.JPanel();
        chkNguoiLon = new javax.swing.JCheckBox();
        chkSinhVien = new javax.swing.JCheckBox();
        chkTreEm = new javax.swing.JCheckBox();
        jLabel19 = new javax.swing.JLabel();
        txtGiaVe = new javax.swing.JTextField();
        jPanel15 = new javax.swing.JPanel();
        jLabel20 = new javax.swing.JLabel();
        txtSDT = new javax.swing.JTextField();
        jLabel21 = new javax.swing.JLabel();
        txtTenKhachHang = new javax.swing.JTextField();
        jLabel22 = new javax.swing.JLabel();
        jLabel23 = new javax.swing.JLabel();
        lblDiemTichLuy = new javax.swing.JLabel();
        lblDiemCongThem = new javax.swing.JLabel();
        jLabel3 = new javax.swing.JLabel();
        txtDiemSuDung = new javax.swing.JTextField();
        jButton1 = new javax.swing.JButton();
        jPanel16 = new javax.swing.JPanel();
        jLabel26 = new javax.swing.JLabel();
        pnrInfuserCombo159 = new javax.swing.JSpinner();
        jLabel27 = new javax.swing.JLabel();
        pnrFast9139 = new javax.swing.JSpinner();
        jLabel28 = new javax.swing.JLabel();
        pnrMyCombo79 = new javax.swing.JSpinner();
        jLabel29 = new javax.swing.JLabel();
        pnrCgvCombo99 = new javax.swing.JSpinner();
        jLabel30 = new javax.swing.JLabel();
        pnrMySnackCombo89 = new javax.swing.JSpinner();
        jPanel17 = new javax.swing.JPanel();
        jLabel31 = new javax.swing.JLabel();
        txtTongTien = new javax.swing.JTextField();
        jLabel32 = new javax.swing.JLabel();
        txtSoTienGiam = new javax.swing.JTextField();
        jLabel33 = new javax.swing.JLabel();
        txtSoTienCanTra = new javax.swing.JTextField();
        jLabel34 = new javax.swing.JLabel();
        txtKhachDua = new javax.swing.JTextField();
        jLabel35 = new javax.swing.JLabel();
        lblTienThoi = new javax.swing.JLabel();
        btnThanhToan = new javax.swing.JButton();
        btnHuy = new javax.swing.JButton();
        jLabel1 = new javax.swing.JLabel();

        jPanel1.setBackground(new java.awt.Color(255, 255, 255));
        jPanel1.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)));

        jLabel37.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        jLabel37.setText("CGV Vincom Đồng Khởi");

        jLabel2.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        jLabel2.setText("| Cinema 2");

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel37)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jLabel2)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jLabel2, javax.swing.GroupLayout.DEFAULT_SIZE, 35, Short.MAX_VALUE)
            .addComponent(jLabel37, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);

        pnlBackGround.setLayout(null);

        jPanel2.setBackground(new java.awt.Color(231, 231, 231));

        lblTenRap.setFont(new java.awt.Font("Tahoma", 1, 14)); // NOI18N
        lblTenRap.setText("CGV Vincom Đồng Khởi");

        lblTenPhong.setFont(new java.awt.Font("Tahoma", 0, 14)); // NOI18N
        lblTenPhong.setText("| Cinema 2");

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(lblTenRap)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(lblTenPhong)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(lblTenPhong, javax.swing.GroupLayout.DEFAULT_SIZE, 37, Short.MAX_VALUE)
            .addComponent(lblTenRap, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        pnlBackGround.add(jPanel2);
        jPanel2.setBounds(0, 0, 1300, 37);

        jPanel3.setBackground(new java.awt.Color(231, 231, 231));

        jLabel5.setFont(new java.awt.Font("Tahoma", 1, 18)); // NOI18N
        jLabel5.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel5.setText("Màn Hình");

        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);
        jPanel3.setLayout(jPanel3Layout);
        jPanel3Layout.setHorizontalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addGap(62, 62, 62)
                .addComponent(jLabel5, javax.swing.GroupLayout.PREFERRED_SIZE, 508, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(77, Short.MAX_VALUE))
        );
        jPanel3Layout.setVerticalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel3Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel5, javax.swing.GroupLayout.DEFAULT_SIZE, 28, Short.MAX_VALUE)
                .addContainerGap())
        );

        pnlBackGround.add(jPanel3);
        jPanel3.setBounds(110, 60, 647, 40);

        jPanel6.setBackground(new java.awt.Color(246, 240, 228));
        jPanel6.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(204, 204, 204)));
        jPanel6.setOpaque(false);
        jPanel6.setLayout(new javax.swing.BoxLayout(jPanel6, javax.swing.BoxLayout.Y_AXIS));

        jPanel5.setBackground(null);
        jPanel5.setOpaque(false);

        btnA10.setBackground(new java.awt.Color(246, 240, 228));
        btnA10.setText("A10");
        btnA10.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel5.add(btnA10);

        btnA9.setBackground(new java.awt.Color(246, 240, 228));
        btnA9.setText("A9");
        btnA9.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel5.add(btnA9);

        btnA8.setBackground(new java.awt.Color(246, 240, 228));
        btnA8.setText("A7");
        btnA8.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel5.add(btnA8);

        btnA7.setBackground(new java.awt.Color(246, 240, 228));
        btnA7.setText("A8");
        btnA7.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel5.add(btnA7);

        btnA6.setBackground(new java.awt.Color(246, 240, 228));
        btnA6.setText("A6");
        btnA6.setPreferredSize(new java.awt.Dimension(75, 40));
        btnA6.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnA6ActionPerformed(evt);
            }
        });
        jPanel5.add(btnA6);

        btnA5.setBackground(new java.awt.Color(246, 240, 228));
        btnA5.setText("A5");
        btnA5.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel5.add(btnA5);

        btnA4.setBackground(new java.awt.Color(246, 240, 228));
        btnA4.setText("A4");
        btnA4.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel5.add(btnA4);

        btnA3.setBackground(new java.awt.Color(246, 240, 228));
        btnA3.setText("A3");
        btnA3.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel5.add(btnA3);

        btnA2.setBackground(new java.awt.Color(246, 240, 228));
        btnA2.setText("A2");
        btnA2.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel5.add(btnA2);

        btnA1.setBackground(new java.awt.Color(246, 240, 228));
        btnA1.setText("A1");
        btnA1.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel5.add(btnA1);

        jPanel6.add(jPanel5);

        jPanel7.setBackground(null);
        jPanel7.setOpaque(false);

        btnB10.setBackground(new java.awt.Color(246, 240, 228));
        btnB10.setText("B10");
        btnB10.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel7.add(btnB10);

        btnB9.setBackground(new java.awt.Color(246, 240, 228));
        btnB9.setText("B9");
        btnB9.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel7.add(btnB9);

        btnB8.setBackground(new java.awt.Color(246, 240, 228));
        btnB8.setText("B8");
        btnB8.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel7.add(btnB8);

        btnB7.setBackground(new java.awt.Color(246, 240, 228));
        btnB7.setText("B7");
        btnB7.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel7.add(btnB7);

        btnB6.setBackground(new java.awt.Color(246, 240, 228));
        btnB6.setText("B6");
        btnB6.setPreferredSize(new java.awt.Dimension(75, 40));
        btnB6.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnB6ActionPerformed(evt);
            }
        });
        jPanel7.add(btnB6);

        btnB5.setBackground(new java.awt.Color(246, 240, 228));
        btnB5.setText("B5");
        btnB5.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel7.add(btnB5);

        btnB4.setBackground(new java.awt.Color(246, 240, 228));
        btnB4.setText("B4");
        btnB4.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel7.add(btnB4);

        btnB3.setBackground(new java.awt.Color(246, 240, 228));
        btnB3.setText("B3");
        btnB3.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel7.add(btnB3);

        btnB2.setBackground(new java.awt.Color(246, 240, 228));
        btnB2.setText("B2");
        btnB2.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel7.add(btnB2);

        btnB1.setBackground(new java.awt.Color(246, 240, 228));
        btnB1.setText("B1");
        btnB1.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel7.add(btnB1);

        jPanel6.add(jPanel7);

        jPanel9.setBackground(null);
        jPanel9.setOpaque(false);

        btnC10.setBackground(new java.awt.Color(246, 240, 228));
        btnC10.setText("C10");
        btnC10.setPreferredSize(new java.awt.Dimension(75, 40));
        btnC10.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                btnC10MouseClicked(evt);
            }
        });
        jPanel9.add(btnC10);

        btnC9.setBackground(new java.awt.Color(246, 240, 228));
        btnC9.setText("C9");
        btnC9.setPreferredSize(new java.awt.Dimension(75, 40));
        btnC9.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                btnC9MouseClicked(evt);
            }
        });
        jPanel9.add(btnC9);

        btnC8.setBackground(new java.awt.Color(246, 240, 228));
        btnC8.setText("C8");
        btnC8.setPreferredSize(new java.awt.Dimension(75, 40));
        btnC8.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnC8ActionPerformed(evt);
            }
        });
        jPanel9.add(btnC8);

        btnC7.setBackground(new java.awt.Color(246, 240, 228));
        btnC7.setText("C7");
        btnC7.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel9.add(btnC7);

        btnC6.setBackground(new java.awt.Color(246, 240, 228));
        btnC6.setText("C6");
        btnC6.setPreferredSize(new java.awt.Dimension(75, 40));
        btnC6.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnC6ActionPerformed(evt);
            }
        });
        jPanel9.add(btnC6);

        btnC5.setBackground(new java.awt.Color(246, 240, 228));
        btnC5.setText("C5");
        btnC5.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel9.add(btnC5);

        btnC4.setBackground(new java.awt.Color(246, 240, 228));
        btnC4.setText("C4");
        btnC4.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel9.add(btnC4);

        btnC3.setBackground(new java.awt.Color(246, 240, 228));
        btnC3.setText("C3");
        btnC3.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel9.add(btnC3);

        btnC2.setBackground(new java.awt.Color(246, 240, 228));
        btnC2.setText("C2");
        btnC2.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel9.add(btnC2);

        btnC1.setBackground(new java.awt.Color(246, 240, 228));
        btnC1.setText("C1");
        btnC1.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel9.add(btnC1);

        jPanel6.add(jPanel9);

        jPanel8.setBackground(null);
        jPanel8.setOpaque(false);

        btnD10.setBackground(new java.awt.Color(246, 240, 228));
        btnD10.setText("D10");
        btnD10.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel8.add(btnD10);

        btnD9.setBackground(new java.awt.Color(246, 240, 228));
        btnD9.setText("D9");
        btnD9.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel8.add(btnD9);

        btnD8.setBackground(new java.awt.Color(246, 240, 228));
        btnD8.setText("D8");
        btnD8.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel8.add(btnD8);

        btnD7.setBackground(new java.awt.Color(246, 240, 228));
        btnD7.setText("D7");
        btnD7.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel8.add(btnD7);

        btnD6.setBackground(new java.awt.Color(246, 240, 228));
        btnD6.setText("D6");
        btnD6.setPreferredSize(new java.awt.Dimension(75, 40));
        btnD6.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnD6ActionPerformed(evt);
            }
        });
        jPanel8.add(btnD6);

        btnD5.setBackground(new java.awt.Color(246, 240, 228));
        btnD5.setText("D5");
        btnD5.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel8.add(btnD5);

        btnD4.setBackground(new java.awt.Color(246, 240, 228));
        btnD4.setText("D4");
        btnD4.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel8.add(btnD4);

        btnD3.setBackground(new java.awt.Color(246, 240, 228));
        btnD3.setText("D3");
        btnD3.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel8.add(btnD3);

        btnD2.setBackground(new java.awt.Color(246, 240, 228));
        btnD2.setText("D2");
        btnD2.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel8.add(btnD2);

        btnD1.setBackground(new java.awt.Color(246, 240, 228));
        btnD1.setText("D1");
        btnD1.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel8.add(btnD1);

        jPanel6.add(jPanel8);

        jPanel10.setBackground(null);
        jPanel10.setOpaque(false);

        btnE10.setBackground(new java.awt.Color(246, 240, 228));
        btnE10.setText("E10");
        btnE10.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel10.add(btnE10);

        btnE9.setBackground(new java.awt.Color(246, 240, 228));
        btnE9.setText("E9");
        btnE9.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel10.add(btnE9);

        btnE8.setBackground(new java.awt.Color(246, 240, 228));
        btnE8.setText("E8");
        btnE8.setPreferredSize(new java.awt.Dimension(75, 40));
        btnE8.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnE8ActionPerformed(evt);
            }
        });
        jPanel10.add(btnE8);

        btnE7.setBackground(new java.awt.Color(246, 240, 228));
        btnE7.setText("E7");
        btnE7.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel10.add(btnE7);

        btnE6.setBackground(new java.awt.Color(246, 240, 228));
        btnE6.setText("E6");
        btnE6.setPreferredSize(new java.awt.Dimension(75, 40));
        btnE6.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnE6ActionPerformed(evt);
            }
        });
        jPanel10.add(btnE6);

        btnE5.setBackground(new java.awt.Color(246, 240, 228));
        btnE5.setText("E5");
        btnE5.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel10.add(btnE5);

        btnE4.setBackground(new java.awt.Color(246, 240, 228));
        btnE4.setText("E4");
        btnE4.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel10.add(btnE4);

        btnE3.setBackground(new java.awt.Color(246, 240, 228));
        btnE3.setText("E3");
        btnE3.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel10.add(btnE3);

        btnE2.setBackground(new java.awt.Color(246, 240, 228));
        btnE2.setText("E2");
        btnE2.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel10.add(btnE2);

        btnE1.setBackground(new java.awt.Color(246, 240, 228));
        btnE1.setText("E1");
        btnE1.setPreferredSize(new java.awt.Dimension(75, 40));
        btnE1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnE1ActionPerformed(evt);
            }
        });
        jPanel10.add(btnE1);

        jPanel6.add(jPanel10);

        jPanel11.setBackground(null);
        jPanel11.setOpaque(false);

        btnF10.setBackground(new java.awt.Color(246, 240, 228));
        btnF10.setText("F10");
        btnF10.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel11.add(btnF10);

        btnF9.setBackground(new java.awt.Color(246, 240, 228));
        btnF9.setText("F9");
        btnF9.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel11.add(btnF9);

        btnF8.setBackground(new java.awt.Color(246, 240, 228));
        btnF8.setText("F8");
        btnF8.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel11.add(btnF8);

        btnF7.setBackground(new java.awt.Color(246, 240, 228));
        btnF7.setText("F7");
        btnF7.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel11.add(btnF7);

        btnF6.setBackground(new java.awt.Color(246, 240, 228));
        btnF6.setText("F6");
        btnF6.setPreferredSize(new java.awt.Dimension(75, 40));
        btnF6.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnF6ActionPerformed(evt);
            }
        });
        jPanel11.add(btnF6);

        btnF5.setBackground(new java.awt.Color(246, 240, 228));
        btnF5.setText("F5");
        btnF5.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel11.add(btnF5);

        btnF4.setBackground(new java.awt.Color(246, 240, 228));
        btnF4.setText("F4");
        btnF4.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel11.add(btnF4);

        btnF3.setBackground(new java.awt.Color(246, 240, 228));
        btnF3.setText("F3");
        btnF3.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel11.add(btnF3);

        btnF2.setBackground(new java.awt.Color(246, 240, 228));
        btnF2.setText("F2");
        btnF2.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel11.add(btnF2);

        btnF1.setBackground(new java.awt.Color(246, 240, 228));
        btnF1.setText("F1");
        btnF1.setPreferredSize(new java.awt.Dimension(75, 40));
        jPanel11.add(btnF1);

        jPanel6.add(jPanel11);

        pnlBackGround.add(jPanel6);
        jPanel6.setBounds(16, 123, 860, 361);

        jPanel4.setBackground(new java.awt.Color(231, 231, 231));

        lblHinhPhim.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lblHinhPhim.setText("Hình");

        lblTenPhim.setFont(new java.awt.Font("Tahoma", 1, 16)); // NOI18N
        lblTenPhim.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lblTenPhim.setText("Bố Già");

        jLabel10.setFont(new java.awt.Font("Lucida Grande", 0, 15)); // NOI18N
        jLabel10.setText("Ngày đặt vé:");

        jLabel7.setFont(new java.awt.Font("Lucida Grande", 0, 15)); // NOI18N
        jLabel7.setText("Suất Chiếu:");

        jLabel8.setFont(new java.awt.Font("Lucida Grande", 0, 15)); // NOI18N
        jLabel8.setText("Đạo Diễn:");

        jLabel11.setFont(new java.awt.Font("Lucida Grande", 0, 15)); // NOI18N
        jLabel11.setText("Thời Lượng:");

        lblDaoDien.setFont(new java.awt.Font("Lucida Grande", 0, 15)); // NOI18N
        lblDaoDien.setText("Trấn Thành");

        lblThoiLuong.setFont(new java.awt.Font("Lucida Grande", 0, 15)); // NOI18N
        lblThoiLuong.setText("120 phút");

        lblNgayChieu.setFont(new java.awt.Font("Lucida Grande", 1, 15)); // NOI18N
        lblNgayChieu.setText("19-11-2021");

        lblSuatChieu.setFont(new java.awt.Font("Lucida Grande", 1, 15)); // NOI18N
        lblSuatChieu.setText("9:00-10:30");

        javax.swing.GroupLayout jPanel4Layout = new javax.swing.GroupLayout(jPanel4);
        jPanel4.setLayout(jPanel4Layout);
        jPanel4Layout.setHorizontalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(lblHinhPhim, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addGroup(jPanel4Layout.createSequentialGroup()
                        .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel11, javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(jLabel10)
                            .addComponent(jLabel8, javax.swing.GroupLayout.Alignment.TRAILING)
                            .addGroup(jPanel4Layout.createSequentialGroup()
                                .addGap(6, 6, 6)
                                .addComponent(jLabel7)))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(lblDaoDien, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(lblThoiLuong, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(lblNgayChieu, javax.swing.GroupLayout.DEFAULT_SIZE, 236, Short.MAX_VALUE)
                            .addComponent(lblSuatChieu, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                    .addComponent(lblTenPhim, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap())
        );
        jPanel4Layout.setVerticalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(lblHinhPhim, javax.swing.GroupLayout.DEFAULT_SIZE, 298, Short.MAX_VALUE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(lblTenPhim, javax.swing.GroupLayout.PREFERRED_SIZE, 28, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(12, 12, 12)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel8)
                    .addComponent(lblDaoDien))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel11)
                    .addComponent(lblThoiLuong))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel10)
                    .addComponent(lblNgayChieu))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel7)
                    .addComponent(lblSuatChieu))
                .addGap(12, 12, 12))
        );

        pnlBackGround.add(jPanel4);
        jPanel4.setBounds(895, 40, 350, 480);

        jPanel12.setBackground(new java.awt.Color(231, 231, 231));
        jPanel12.setLayout(new java.awt.FlowLayout(java.awt.FlowLayout.CENTER, 15, 5));

        jLabel16.setBackground(new java.awt.Color(255, 255, 255));
        jLabel16.setFont(new java.awt.Font("Lucida Grande", 0, 14)); // NOI18N
        jLabel16.setIcon(new javax.swing.ImageIcon(getClass().getResource("/com/cinesys/icon/GheDangChon.png"))); // NOI18N
        jLabel16.setText("Ghế đang chọn");
        jPanel12.add(jLabel16);

        jLabel17.setFont(new java.awt.Font("Lucida Grande", 0, 14)); // NOI18N
        jLabel17.setIcon(new javax.swing.ImageIcon(getClass().getResource("/com/cinesys/icon/GheDaChon.png"))); // NOI18N
        jLabel17.setText("Ghế đã chọn");
        jPanel12.add(jLabel17);

        jLabel18.setFont(new java.awt.Font("Lucida Grande", 0, 14)); // NOI18N
        jLabel18.setIcon(new javax.swing.ImageIcon(getClass().getResource("/com/cinesys/icon/GheTrong.png"))); // NOI18N
        jLabel18.setText("Ghế trống");
        jPanel12.add(jLabel18);

        pnlBackGround.add(jPanel12);
        jPanel12.setBounds(240, 490, 384, 30);

        jPanel13.setBackground(null);
        jPanel13.setOpaque(false);

        jPanel14.setBackground(new java.awt.Color(231, 231, 231));
        jPanel14.setBorder(javax.swing.BorderFactory.createTitledBorder("Loại Vé"));

        buttonGroup1.add(chkNguoiLon);
        chkNguoiLon.setFont(new java.awt.Font("Lucida Grande", 0, 15)); // NOI18N
        chkNguoiLon.setSelected(true);
        chkNguoiLon.setText("Người lớn");
        chkNguoiLon.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                chkNguoiLonMouseClicked(evt);
            }
        });
        chkNguoiLon.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                chkNguoiLonActionPerformed(evt);
            }
        });

        buttonGroup1.add(chkSinhVien);
        chkSinhVien.setFont(new java.awt.Font("Lucida Grande", 0, 15)); // NOI18N
        chkSinhVien.setText("Sinh viên");
        chkSinhVien.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                chkSinhVienMouseClicked(evt);
            }
        });

        buttonGroup1.add(chkTreEm);
        chkTreEm.setFont(new java.awt.Font("Lucida Grande", 0, 15)); // NOI18N
        chkTreEm.setText("Trẻ em (Dưới 12 tuổi)");
        chkTreEm.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                chkTreEmMouseClicked(evt);
            }
        });

        jLabel19.setFont(new java.awt.Font("Lucida Grande", 0, 15)); // NOI18N
        jLabel19.setText("Giá vé:");

        txtGiaVe.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtGiaVeActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel14Layout = new javax.swing.GroupLayout(jPanel14);
        jPanel14.setLayout(jPanel14Layout);
        jPanel14Layout.setHorizontalGroup(
            jPanel14Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel14Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel14Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addGroup(jPanel14Layout.createSequentialGroup()
                        .addComponent(chkNguoiLon)
                        .addGap(18, 18, 18)
                        .addComponent(chkSinhVien))
                    .addComponent(chkTreEm)
                    .addGroup(jPanel14Layout.createSequentialGroup()
                        .addComponent(jLabel19)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(txtGiaVe)))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel14Layout.setVerticalGroup(
            jPanel14Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel14Layout.createSequentialGroup()
                .addGap(21, 21, 21)
                .addGroup(jPanel14Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(chkNguoiLon)
                    .addComponent(chkSinhVien))
                .addGap(18, 18, 18)
                .addComponent(chkTreEm)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel14Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel19)
                    .addComponent(txtGiaVe, javax.swing.GroupLayout.PREFERRED_SIZE, 34, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jPanel15.setBackground(new java.awt.Color(231, 231, 231));
        jPanel15.setBorder(javax.swing.BorderFactory.createTitledBorder("Khách Hàng"));

        jLabel20.setFont(new java.awt.Font("Lucida Grande", 0, 15)); // NOI18N
        jLabel20.setText("SĐT:");

        txtSDT.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtSDTActionPerformed(evt);
            }
        });

        jLabel21.setFont(new java.awt.Font("Lucida Grande", 0, 15)); // NOI18N
        jLabel21.setText("Tên:");

        jLabel22.setFont(new java.awt.Font("Lucida Grande", 0, 15)); // NOI18N
        jLabel22.setText("Điểm tích lũy:");

        jLabel23.setFont(new java.awt.Font("Lucida Grande", 0, 15)); // NOI18N
        jLabel23.setText("Điểm cộng thêm:");

        lblDiemTichLuy.setFont(new java.awt.Font("Lucida Grande", 1, 15)); // NOI18N
        lblDiemTichLuy.setText("0");
        lblDiemTichLuy.setEnabled(false);

        lblDiemCongThem.setFont(new java.awt.Font("Lucida Grande", 1, 15)); // NOI18N
        lblDiemCongThem.setText("0");
        lblDiemCongThem.setEnabled(false);
        lblDiemCongThem.setFocusCycleRoot(true);

        jLabel3.setFont(new java.awt.Font("Lucida Grande", 0, 15)); // NOI18N
        jLabel3.setText("Điểm sử dụng:");

        txtDiemSuDung.setText("0");
        txtDiemSuDung.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                txtDiemSuDungMouseClicked(evt);
            }
        });
        txtDiemSuDung.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txtDiemSuDungKeyReleased(evt);
            }
        });

        jButton1.setText("Tìm");
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel15Layout = new javax.swing.GroupLayout(jPanel15);
        jPanel15.setLayout(jPanel15Layout);
        jPanel15Layout.setHorizontalGroup(
            jPanel15Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel15Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel15Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel15Layout.createSequentialGroup()
                        .addComponent(jLabel3)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(txtDiemSuDung))
                    .addGroup(jPanel15Layout.createSequentialGroup()
                        .addGroup(jPanel15Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(jPanel15Layout.createSequentialGroup()
                                .addComponent(jLabel21)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(txtTenKhachHang, javax.swing.GroupLayout.PREFERRED_SIZE, 181, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(jPanel15Layout.createSequentialGroup()
                                .addComponent(jLabel22)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(lblDiemTichLuy))
                            .addGroup(jPanel15Layout.createSequentialGroup()
                                .addComponent(jLabel23)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(lblDiemCongThem))
                            .addGroup(jPanel15Layout.createSequentialGroup()
                                .addComponent(jLabel20)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(txtSDT, javax.swing.GroupLayout.PREFERRED_SIZE, 140, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jButton1, javax.swing.GroupLayout.PREFERRED_SIZE, 65, javax.swing.GroupLayout.PREFERRED_SIZE)))
                        .addGap(0, 4, Short.MAX_VALUE)))
                .addContainerGap())
        );
        jPanel15Layout.setVerticalGroup(
            jPanel15Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel15Layout.createSequentialGroup()
                .addGap(18, 18, 18)
                .addGroup(jPanel15Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel20)
                    .addComponent(txtSDT, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jButton1))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel15Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel21)
                    .addComponent(txtTenKhachHang, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel15Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel22)
                    .addComponent(lblDiemTichLuy))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel15Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel23)
                    .addComponent(lblDiemCongThem))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel15Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel3)
                    .addComponent(txtDiemSuDung, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jPanel16.setBackground(new java.awt.Color(231, 231, 231));
        jPanel16.setBorder(javax.swing.BorderFactory.createTitledBorder("Thức uống, đồ ăn"));

        jLabel26.setFont(new java.awt.Font("Lucida Grande", 0, 15)); // NOI18N
        jLabel26.setIcon(new javax.swing.ImageIcon(getClass().getResource("/com/cinesys/icon/fluserMyCombo.png"))); // NOI18N
        jLabel26.setText("Infuser Bottle My Combo - 159.000");

        pnrInfuserCombo159.addChangeListener(new javax.swing.event.ChangeListener() {
            public void stateChanged(javax.swing.event.ChangeEvent evt) {
                pnrInfuserCombo159StateChanged(evt);
            }
        });

        jLabel27.setFont(new java.awt.Font("Lucida Grande", 0, 15)); // NOI18N
        jLabel27.setIcon(new javax.swing.ImageIcon(getClass().getResource("/com/cinesys/icon/Fast9.png"))); // NOI18N
        jLabel27.setText("Fast 9 Single Combo - 139.000");

        pnrFast9139.addChangeListener(new javax.swing.event.ChangeListener() {
            public void stateChanged(javax.swing.event.ChangeEvent evt) {
                pnrFast9139StateChanged(evt);
            }
        });

        jLabel28.setFont(new java.awt.Font("Lucida Grande", 0, 15)); // NOI18N
        jLabel28.setIcon(new javax.swing.ImageIcon(getClass().getResource("/com/cinesys/icon/MyCombo.png"))); // NOI18N
        jLabel28.setText("My Combo - 79.000");

        pnrMyCombo79.addChangeListener(new javax.swing.event.ChangeListener() {
            public void stateChanged(javax.swing.event.ChangeEvent evt) {
                pnrMyCombo79StateChanged(evt);
            }
        });

        jLabel29.setFont(new java.awt.Font("Lucida Grande", 0, 15)); // NOI18N
        jLabel29.setIcon(new javax.swing.ImageIcon(getClass().getResource("/com/cinesys/icon/CgvCombo.png"))); // NOI18N
        jLabel29.setText("CGV Combo - 99.000");

        pnrCgvCombo99.addChangeListener(new javax.swing.event.ChangeListener() {
            public void stateChanged(javax.swing.event.ChangeEvent evt) {
                pnrCgvCombo99StateChanged(evt);
            }
        });

        jLabel30.setFont(new java.awt.Font("Lucida Grande", 0, 15)); // NOI18N
        jLabel30.setIcon(new javax.swing.ImageIcon(getClass().getResource("/com/cinesys/icon/MySnackCombo.png"))); // NOI18N
        jLabel30.setText("My Snack Combo - 89.000");

        pnrMySnackCombo89.addChangeListener(new javax.swing.event.ChangeListener() {
            public void stateChanged(javax.swing.event.ChangeEvent evt) {
                pnrMySnackCombo89StateChanged(evt);
            }
        });

        javax.swing.GroupLayout jPanel16Layout = new javax.swing.GroupLayout(jPanel16);
        jPanel16.setLayout(jPanel16Layout);
        jPanel16Layout.setHorizontalGroup(
            jPanel16Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel16Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel16Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel16Layout.createSequentialGroup()
                        .addComponent(jLabel26)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(pnrInfuserCombo159, javax.swing.GroupLayout.PREFERRED_SIZE, 50, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel16Layout.createSequentialGroup()
                        .addComponent(jLabel27)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(pnrFast9139, javax.swing.GroupLayout.PREFERRED_SIZE, 50, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel16Layout.createSequentialGroup()
                        .addComponent(jLabel30)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(pnrMySnackCombo89, javax.swing.GroupLayout.PREFERRED_SIZE, 50, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel16Layout.createSequentialGroup()
                        .addGroup(jPanel16Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                            .addComponent(jLabel28, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(jLabel29, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPanel16Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(pnrMyCombo79, javax.swing.GroupLayout.PREFERRED_SIZE, 50, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(pnrCgvCombo99, javax.swing.GroupLayout.PREFERRED_SIZE, 50, javax.swing.GroupLayout.PREFERRED_SIZE))))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel16Layout.setVerticalGroup(
            jPanel16Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel16Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel16Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel26)
                    .addComponent(pnrInfuserCombo159, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel16Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel27)
                    .addComponent(pnrFast9139, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel16Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel28)
                    .addComponent(pnrMyCombo79, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel16Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel29)
                    .addComponent(pnrCgvCombo99, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel16Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel30)
                    .addComponent(pnrMySnackCombo89, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jPanel17.setBackground(new java.awt.Color(231, 231, 231));
        jPanel17.setBorder(javax.swing.BorderFactory.createTitledBorder("Tổng tiền"));

        jLabel31.setFont(new java.awt.Font("Lucida Grande", 0, 15)); // NOI18N
        jLabel31.setText("Tổng tiền:");

        txtTongTien.setText("0");
        txtTongTien.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                txtTongTienActionPerformed(evt);
            }
        });

        jLabel32.setFont(new java.awt.Font("Lucida Grande", 0, 15)); // NOI18N
        jLabel32.setText("Số tiền giảm:");

        txtSoTienGiam.setText("0");

        jLabel33.setFont(new java.awt.Font("Lucida Grande", 0, 15)); // NOI18N
        jLabel33.setText("Số tiền cần trả:");

        txtSoTienCanTra.setFont(new java.awt.Font("Lucida Grande", 1, 13)); // NOI18N
        txtSoTienCanTra.setText("0");

        jLabel34.setFont(new java.awt.Font("Lucida Grande", 0, 15)); // NOI18N
        jLabel34.setText("Khách đưa:");

        txtKhachDua.setText("0");
        txtKhachDua.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                txtKhachDuaMouseClicked(evt);
            }
        });
        txtKhachDua.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txtKhachDuaKeyReleased(evt);
            }
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txtKhachDuaKeyTyped(evt);
            }
        });

        jLabel35.setFont(new java.awt.Font("Lucida Grande", 0, 15)); // NOI18N
        jLabel35.setText("Tiền thối:");

        lblTienThoi.setFont(new java.awt.Font("Lucida Grande", 1, 13)); // NOI18N
        lblTienThoi.setText("0");

        btnThanhToan.setFont(new java.awt.Font(".AppleSystemUIFont", 0, 15)); // NOI18N
        btnThanhToan.setIcon(new javax.swing.ImageIcon(getClass().getResource("/com/cinesys/icon/Pay.png"))); // NOI18N
        btnThanhToan.setText("Thanh Toán");
        btnThanhToan.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnThanhToanActionPerformed(evt);
            }
        });

        btnHuy.setFont(new java.awt.Font(".AppleSystemUIFont", 0, 15)); // NOI18N
        btnHuy.setIcon(new javax.swing.ImageIcon(getClass().getResource("/com/cinesys/icon/Cancel.png"))); // NOI18N
        btnHuy.setText("Hủy");
        btnHuy.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnHuyActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel17Layout = new javax.swing.GroupLayout(jPanel17);
        jPanel17.setLayout(jPanel17Layout);
        jPanel17Layout.setHorizontalGroup(
            jPanel17Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel17Layout.createSequentialGroup()
                .addGap(49, 49, 49)
                .addComponent(btnThanhToan)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(btnHuy)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
            .addGroup(jPanel17Layout.createSequentialGroup()
                .addGroup(jPanel17Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabel32)
                    .addComponent(jLabel33)
                    .addComponent(jLabel31)
                    .addComponent(jLabel35)
                    .addComponent(jLabel34))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel17Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(txtSoTienGiam)
                    .addComponent(txtSoTienCanTra)
                    .addComponent(txtKhachDua)
                    .addComponent(txtTongTien, javax.swing.GroupLayout.PREFERRED_SIZE, 196, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(lblTienThoi, javax.swing.GroupLayout.PREFERRED_SIZE, 92, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(0, 30, Short.MAX_VALUE))
        );
        jPanel17Layout.setVerticalGroup(
            jPanel17Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel17Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel17Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel31)
                    .addComponent(txtTongTien, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel17Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel32)
                    .addComponent(txtSoTienGiam, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel17Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel33)
                    .addComponent(txtSoTienCanTra, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel17Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel34)
                    .addComponent(txtKhachDua, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel17Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jLabel35, javax.swing.GroupLayout.DEFAULT_SIZE, 25, Short.MAX_VALUE)
                    .addComponent(lblTienThoi, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel17Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(btnThanhToan)
                    .addComponent(btnHuy, javax.swing.GroupLayout.DEFAULT_SIZE, 48, Short.MAX_VALUE))
                .addContainerGap(12, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout jPanel13Layout = new javax.swing.GroupLayout(jPanel13);
        jPanel13.setLayout(jPanel13Layout);
        jPanel13Layout.setHorizontalGroup(
            jPanel13Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel13Layout.createSequentialGroup()
                .addComponent(jPanel14, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, 0)
                .addComponent(jPanel15, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, 0)
                .addComponent(jPanel16, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, 0)
                .addComponent(jPanel17, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addContainerGap())
        );
        jPanel13Layout.setVerticalGroup(
            jPanel13Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel13Layout.createSequentialGroup()
                .addGroup(jPanel13Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                    .addComponent(jPanel14, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jPanel15, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jPanel16, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jPanel17, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addGap(0, 0, Short.MAX_VALUE))
        );

        pnlBackGround.add(jPanel13);
        jPanel13.setBounds(6, 529, 1250, 270);

        jLabel1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/com/cinesys/image/BGImage.jpg"))); // NOI18N
        jLabel1.setText("jLabel1");
        pnlBackGround.add(jLabel1);
        jLabel1.setBounds(0, 0, 1260, 800);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(pnlBackGround, javax.swing.GroupLayout.DEFAULT_SIZE, 1263, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(pnlBackGround, javax.swing.GroupLayout.DEFAULT_SIZE, 803, Short.MAX_VALUE)
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void btnA6ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnA6ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_btnA6ActionPerformed

    private void btnB6ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnB6ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_btnB6ActionPerformed

    private void btnC6ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnC6ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_btnC6ActionPerformed

    private void btnD6ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnD6ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_btnD6ActionPerformed

    private void btnE6ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnE6ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_btnE6ActionPerformed

    private void btnF6ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnF6ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_btnF6ActionPerformed

    private void chkNguoiLonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_chkNguoiLonActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_chkNguoiLonActionPerformed

    private void txtSDTActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtSDTActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtSDTActionPerformed

    private void btnE1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnE1ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_btnE1ActionPerformed

    private void btnE8ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnE8ActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_btnE8ActionPerformed

    private void btnHuyActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnHuyActionPerformed
        this.dispose();
    }//GEN-LAST:event_btnHuyActionPerformed

    private void btnC8ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnC8ActionPerformed
        this.changeColorButton(btnC8);
        this.fillCountMoney(btnC8);
    }//GEN-LAST:event_btnC8ActionPerformed

    private void chkNguoiLonMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_chkNguoiLonMouseClicked
        this.fillPriceTicket();
    }//GEN-LAST:event_chkNguoiLonMouseClicked

    private void chkSinhVienMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_chkSinhVienMouseClicked
        this.fillPriceTicket();
    }//GEN-LAST:event_chkSinhVienMouseClicked

    private void chkTreEmMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_chkTreEmMouseClicked
        this.fillPriceTicket();
    }//GEN-LAST:event_chkTreEmMouseClicked

    private void txtDiemSuDungKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtDiemSuDungKeyReleased
        int diemSD;
        if (txtDiemSuDung.getText().equals("")) {
            diemSD = 0;
        } else {
            diemSD = Integer.parseInt(txtDiemSuDung.getText());
        }
        txtSoTienGiam.setText(String.valueOf(diemSD * 1000));
        txtSoTienCanTra.setText(String.valueOf(Integer.parseInt(txtTongTien.getText()) - Integer.parseInt(txtSoTienGiam.getText())));
        if (Integer.parseInt(txtKhachDua.getText()) == 0) {
            lblTienThoi.setText("0");
        } else {
            lblTienThoi.setText(String.valueOf(Integer.parseInt(txtKhachDua.getText()) - Integer.parseInt(txtSoTienCanTra.getText())));
        }
    }//GEN-LAST:event_txtDiemSuDungKeyReleased

    private void txtKhachDuaKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtKhachDuaKeyReleased
        int tien = 0;
        int tienthoi = 0;
        try {
            tien = Integer.parseInt(txtKhachDua.getText());
            tienthoi = tien - Integer.parseInt(txtSoTienCanTra.getText());
        } catch (Exception e) {
            e.printStackTrace();
        }
        if (tienthoi > 0) {
            lblTienThoi.setText(String.valueOf(tienthoi));
        }
    }//GEN-LAST:event_txtKhachDuaKeyReleased

    private void btnC9MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnC9MouseClicked
        this.changeColorButton(btnC9);
        this.fillCountMoney(btnC9);
    }//GEN-LAST:event_btnC9MouseClicked

    private void btnC10MouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_btnC10MouseClicked
        this.changeColorButton(btnC10);
        this.fillCountMoney(btnC10);
    }//GEN-LAST:event_btnC10MouseClicked

    private void pnrFast9139StateChanged(javax.swing.event.ChangeEvent evt) {//GEN-FIRST:event_pnrFast9139StateChanged

        int value = (int) pnrFast9139.getValue();
        int countValue = 0;
        for (int i = 0; i < value; i++) {
            countValue += 139000;
        }
        txtTongTien.setText(String.valueOf(tongTienGiaVe + countValue));
    }//GEN-LAST:event_pnrFast9139StateChanged

    private void pnrMyCombo79StateChanged(javax.swing.event.ChangeEvent evt) {//GEN-FIRST:event_pnrMyCombo79StateChanged

        int value = (int) pnrMyCombo79.getValue();
        int countValue = 0;
        for (int i = 0; i < value; i++) {
            countValue += 79000;
        }
        txtTongTien.setText(String.valueOf(tongTienGiaVe + countValue));
    }//GEN-LAST:event_pnrMyCombo79StateChanged

    private void pnrCgvCombo99StateChanged(javax.swing.event.ChangeEvent evt) {//GEN-FIRST:event_pnrCgvCombo99StateChanged

        int value = (int) pnrCgvCombo99.getValue();
        int countValue = 0;
        for (int i = 0; i < value; i++) {
            countValue += 99000;
        }
        txtTongTien.setText(String.valueOf(tongTienGiaVe + countValue));
    }//GEN-LAST:event_pnrCgvCombo99StateChanged

    private void pnrMySnackCombo89StateChanged(javax.swing.event.ChangeEvent evt) {//GEN-FIRST:event_pnrMySnackCombo89StateChanged

        int value = (int) pnrMySnackCombo89.getValue();
        int countValue = 0;
        for (int i = 0; i < value; i++) {
            countValue += 89000;
        }
        txtTongTien.setText(String.valueOf(tongTienGiaVe + countValue));
    }//GEN-LAST:event_pnrMySnackCombo89StateChanged

    private void pnrInfuserCombo159StateChanged(javax.swing.event.ChangeEvent evt) {//GEN-FIRST:event_pnrInfuserCombo159StateChanged

        int value = (int) pnrInfuserCombo159.getValue();
        int countValue = 0;
        for (int i = 0; i < value; i++) {
            countValue += 159000;
        }
        txtTongTien.setText(String.valueOf(tongTienGiaVe + countValue));
    }//GEN-LAST:event_pnrInfuserCombo159StateChanged

    private void txtGiaVeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtGiaVeActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtGiaVeActionPerformed

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed
        this.fillInforCustomer();
    }//GEN-LAST:event_jButton1ActionPerformed

    private void txtDiemSuDungMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_txtDiemSuDungMouseClicked
        // TODO add your handling code here:
        txtDiemSuDung.setText("");
    }//GEN-LAST:event_txtDiemSuDungMouseClicked

    private void txtKhachDuaKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtKhachDuaKeyTyped
        // TODO add your handling code here:
    }//GEN-LAST:event_txtKhachDuaKeyTyped

    private void btnThanhToanActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnThanhToanActionPerformed
        this.updateGhe();
        this.insertVe();
        this.xuatHoaDon();
        this.dispose();
    }//GEN-LAST:event_btnThanhToanActionPerformed

    private void txtTongTienActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_txtTongTienActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_txtTongTienActionPerformed

    private void txtKhachDuaMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_txtKhachDuaMouseClicked
        txtKhachDua.setText("");
    }//GEN-LAST:event_txtKhachDuaMouseClicked

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(DatVeJDialog1.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(DatVeJDialog1.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(DatVeJDialog1.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(DatVeJDialog1.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the dialog */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                DatVeJDialog1 dialog = new DatVeJDialog1(new javax.swing.JFrame(), true);
                dialog.addWindowListener(new java.awt.event.WindowAdapter() {
                    @Override
                    public void windowClosing(java.awt.event.WindowEvent e) {
                        System.exit(0);
                    }
                });
                dialog.setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton btnA1;
    private javax.swing.JButton btnA10;
    private javax.swing.JButton btnA2;
    private javax.swing.JButton btnA3;
    private javax.swing.JButton btnA4;
    private javax.swing.JButton btnA5;
    private javax.swing.JButton btnA6;
    private javax.swing.JButton btnA7;
    private javax.swing.JButton btnA8;
    private javax.swing.JButton btnA9;
    private javax.swing.JButton btnB1;
    private javax.swing.JButton btnB10;
    private javax.swing.JButton btnB2;
    private javax.swing.JButton btnB3;
    private javax.swing.JButton btnB4;
    private javax.swing.JButton btnB5;
    private javax.swing.JButton btnB6;
    private javax.swing.JButton btnB7;
    private javax.swing.JButton btnB8;
    private javax.swing.JButton btnB9;
    private javax.swing.JButton btnC1;
    private javax.swing.JButton btnC10;
    private javax.swing.JButton btnC2;
    private javax.swing.JButton btnC3;
    private javax.swing.JButton btnC4;
    private javax.swing.JButton btnC5;
    private javax.swing.JButton btnC6;
    private javax.swing.JButton btnC7;
    private javax.swing.JButton btnC8;
    private javax.swing.JButton btnC9;
    private javax.swing.JButton btnD1;
    private javax.swing.JButton btnD10;
    private javax.swing.JButton btnD2;
    private javax.swing.JButton btnD3;
    private javax.swing.JButton btnD4;
    private javax.swing.JButton btnD5;
    private javax.swing.JButton btnD6;
    private javax.swing.JButton btnD7;
    private javax.swing.JButton btnD8;
    private javax.swing.JButton btnD9;
    private javax.swing.JButton btnE1;
    private javax.swing.JButton btnE10;
    private javax.swing.JButton btnE2;
    private javax.swing.JButton btnE3;
    private javax.swing.JButton btnE4;
    private javax.swing.JButton btnE5;
    private javax.swing.JButton btnE6;
    private javax.swing.JButton btnE7;
    private javax.swing.JButton btnE8;
    private javax.swing.JButton btnE9;
    private javax.swing.JButton btnF1;
    private javax.swing.JButton btnF10;
    private javax.swing.JButton btnF2;
    private javax.swing.JButton btnF3;
    private javax.swing.JButton btnF4;
    private javax.swing.JButton btnF5;
    private javax.swing.JButton btnF6;
    private javax.swing.JButton btnF7;
    private javax.swing.JButton btnF8;
    private javax.swing.JButton btnF9;
    private javax.swing.JButton btnHuy;
    private javax.swing.JButton btnThanhToan;
    private javax.swing.ButtonGroup buttonGroup1;
    private javax.swing.JCheckBox chkNguoiLon;
    private javax.swing.JCheckBox chkSinhVien;
    private javax.swing.JCheckBox chkTreEm;
    private javax.swing.JButton jButton1;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel17;
    private javax.swing.JLabel jLabel18;
    private javax.swing.JLabel jLabel19;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel20;
    private javax.swing.JLabel jLabel21;
    private javax.swing.JLabel jLabel22;
    private javax.swing.JLabel jLabel23;
    private javax.swing.JLabel jLabel26;
    private javax.swing.JLabel jLabel27;
    private javax.swing.JLabel jLabel28;
    private javax.swing.JLabel jLabel29;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel30;
    private javax.swing.JLabel jLabel31;
    private javax.swing.JLabel jLabel32;
    private javax.swing.JLabel jLabel33;
    private javax.swing.JLabel jLabel34;
    private javax.swing.JLabel jLabel35;
    private javax.swing.JLabel jLabel37;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel10;
    private javax.swing.JPanel jPanel11;
    private javax.swing.JPanel jPanel12;
    private javax.swing.JPanel jPanel13;
    private javax.swing.JPanel jPanel14;
    private javax.swing.JPanel jPanel15;
    private javax.swing.JPanel jPanel16;
    private javax.swing.JPanel jPanel17;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JPanel jPanel5;
    private javax.swing.JPanel jPanel6;
    private javax.swing.JPanel jPanel7;
    private javax.swing.JPanel jPanel8;
    private javax.swing.JPanel jPanel9;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JLabel lblDaoDien;
    private javax.swing.JLabel lblDiemCongThem;
    private javax.swing.JLabel lblDiemTichLuy;
    private javax.swing.JLabel lblHinhPhim;
    private javax.swing.JLabel lblNgayChieu;
    private javax.swing.JLabel lblSuatChieu;
    private javax.swing.JLabel lblTenPhim;
    private javax.swing.JLabel lblTenPhong;
    private javax.swing.JLabel lblTenRap;
    private javax.swing.JLabel lblThoiLuong;
    private javax.swing.JLabel lblTienThoi;
    private javax.swing.JPanel pnlBackGround;
    private javax.swing.JSpinner pnrCgvCombo99;
    private javax.swing.JSpinner pnrFast9139;
    private javax.swing.JSpinner pnrInfuserCombo159;
    private javax.swing.JSpinner pnrMyCombo79;
    private javax.swing.JSpinner pnrMySnackCombo89;
    private javax.swing.JTextField txtDiemSuDung;
    private javax.swing.JTextField txtGiaVe;
    private javax.swing.JTextField txtKhachDua;
    private javax.swing.JTextField txtSDT;
    private javax.swing.JTextField txtSoTienCanTra;
    private javax.swing.JTextField txtSoTienGiam;
    private javax.swing.JTextField txtTenKhachHang;
    private javax.swing.JTextField txtTongTien;
    // End of variables declaration//GEN-END:variables

    GheDAO gheDAO = new GheDAO();
    KhachHangDAO khDAO = new KhachHangDAO();
    public int maPhong;
    public static List<Object[]> listFilm = new ArrayList<>();
    public int tongTienGiaVe = 0;
    File f;
    FileOutputStream output;

    private void init() {
        this.setLocationRelativeTo(null);
        this.fillInforFilm();
        this.loadFormBooking();
    }

    //Đưa thông tin phim từ Form Chính vào Giao Diện
    public void fillInforFilm() {
        this.listFilm = FormTrangChinhJFrame.listLC;
        for (Object[] objects : listFilm) {
            lblTenRap.setText((String) objects[8]);
            lblTenPhong.setText("| " + (String) objects[6]);
            ImageIcon image = new ImageIcon((String) objects[2]);
            System.out.println((String) objects[2]);
            java.awt.Image img = image.getImage();
            ImageIcon icon = new ImageIcon(img.getScaledInstance(lblHinhPhim.getWidth(), lblHinhPhim.getHeight(), img.SCALE_SMOOTH));
            lblHinhPhim.setText("");
            lblHinhPhim.setIcon(icon);
            lblTenPhim.setText((String) objects[1]);
            lblDaoDien.setText((String) objects[3]);
            lblThoiLuong.setText(String.valueOf(objects[4]));
            lblNgayChieu.setText(XDate.toString((Date) objects[0], "dd-MM-yyyy"));
            lblSuatChieu.setText(String.valueOf(objects[5]));
            maPhong = (int) objects[7];
        }
    }

    //Cập nhật tình trạng Ghế tại phòng
    private void loadFormBooking() {
        List<Ghe> list = gheDAO.selectGheSelected();
        for (Ghe ghe : list) {
            int maPhongg = ghe.getMaPhong();
            if (maPhongg == maPhong) {
                if (btnA1.getText().equals(ghe.getMaGhe())) {
                    btnA1.setBackground(Color.RED);
                } else if (btnA2.getText().equals(ghe.getMaGhe())) {
                    btnA2.setBackground(Color.RED);
                } else if (btnA3.getText().equals(ghe.getMaGhe())) {
                    btnA3.setBackground(Color.RED);
                } else if (btnA4.getText().equals(ghe.getMaGhe())) {
                    btnA4.setBackground(Color.RED);
                } else if (btnA5.getText().equals(ghe.getMaGhe())) {
                    btnA5.setBackground(Color.RED);
                } else if (btnA6.getText().equals(ghe.getMaGhe())) {
                    btnA6.setBackground(Color.RED);
                } else if (btnA7.getText().equals(ghe.getMaGhe())) {
                    btnA7.setBackground(Color.RED);
                } else if (btnA8.getText().equals(ghe.getMaGhe())) {
                    btnA8.setBackground(Color.RED);
                } else if (btnA9.getText().equals(ghe.getMaGhe())) {
                    btnA9.setBackground(Color.RED);
                } else if (btnA10.getText().equals(ghe.getMaGhe())) {
                    btnA10.setBackground(Color.RED);
                } else if (btnB1.getText().equals(ghe.getMaGhe())) {
                    btnB1.setBackground(Color.RED);
                } else if (btnB2.getText().equals(ghe.getMaGhe())) {
                    btnB2.setBackground(Color.RED);
                } else if (btnB3.getText().equals(ghe.getMaGhe())) {
                    btnB3.setBackground(Color.RED);
                } else if (btnB4.getText().equals(ghe.getMaGhe())) {
                    btnB4.setBackground(Color.RED);
                } else if (btnB5.getText().equals(ghe.getMaGhe())) {
                    btnB5.setBackground(Color.RED);
                } else if (btnB6.getText().equals(ghe.getMaGhe())) {
                    btnB6.setBackground(Color.RED);
                } else if (btnB8.getText().equals(ghe.getMaGhe())) {
                    btnB8.setBackground(Color.RED);
                } else if (btnB9.getText().equals(ghe.getMaGhe())) {
                    btnB9.setBackground(Color.RED);
                } else if (btnB10.getText().equals(ghe.getMaGhe())) {
                    btnB10.setBackground(Color.RED);
                } else if (btnC1.getText().equals(ghe.getMaGhe())) {
                    btnC1.setBackground(Color.RED);
                } else if (btnC2.getText().equals(ghe.getMaGhe())) {
                    btnC2.setBackground(Color.RED);
                } else if (btnC3.getText().equals(ghe.getMaGhe())) {
                    btnC3.setBackground(Color.RED);
                } else if (btnC4.getText().equals(ghe.getMaGhe())) {
                    btnC4.setBackground(Color.RED);
                } else if (btnC5.getText().equals(ghe.getMaGhe())) {
                    btnC5.setBackground(Color.RED);
                } else if (btnC6.getText().equals(ghe.getMaGhe())) {
                    btnC6.setBackground(Color.RED);
                } else if (btnC7.getText().equals(ghe.getMaGhe())) {
                    btnC7.setBackground(Color.RED);
                } else if (btnC8.getText().equals(ghe.getMaGhe())) {
                    btnC8.setBackground(Color.RED);
                } else if (btnC9.getText().equals(ghe.getMaGhe())) {
                    btnC9.setBackground(Color.RED);
                } else if (btnC10.getText().equals(ghe.getMaGhe())) {
                    btnC10.setBackground(Color.RED);
                } else if (btnD1.getText().equals(ghe.getMaGhe())) {
                    btnD1.setBackground(Color.RED);
                } else if (btnD2.getText().equals(ghe.getMaGhe())) {
                    btnD2.setBackground(Color.RED);
                } else if (btnD3.getText().equals(ghe.getMaGhe())) {
                    btnD3.setBackground(Color.RED);
                } else if (btnD4.getText().equals(ghe.getMaGhe())) {
                    btnD4.setBackground(Color.RED);
                } else if (btnD5.getText().equals(ghe.getMaGhe())) {
                    btnD5.setBackground(Color.RED);
                } else if (btnD6.getText().equals(ghe.getMaGhe())) {
                    btnD6.setBackground(Color.RED);
                } else if (btnD7.getText().equals(ghe.getMaGhe())) {
                    btnD7.setBackground(Color.RED);
                } else if (btnD8.getText().equals(ghe.getMaGhe())) {
                    btnD8.setBackground(Color.RED);
                } else if (btnD9.getText().equals(ghe.getMaGhe())) {
                    btnD9.setBackground(Color.RED);
                } else if (btnD10.getText().equals(ghe.getMaGhe())) {
                    btnD10.setBackground(Color.RED);
                } else if (btnE1.getText().equals(ghe.getMaGhe())) {
                    btnE1.setBackground(Color.RED);
                } else if (btnE2.getText().equals(ghe.getMaGhe())) {
                    btnE2.setBackground(Color.RED);
                } else if (btnE3.getText().equals(ghe.getMaGhe())) {
                    btnE3.setBackground(Color.RED);
                } else if (btnE4.getText().equals(ghe.getMaGhe())) {
                    btnE4.setBackground(Color.RED);
                } else if (btnE5.getText().equals(ghe.getMaGhe())) {
                    btnE5.setBackground(Color.RED);
                } else if (btnE6.getText().equals(ghe.getMaGhe())) {
                    btnE6.setBackground(Color.RED);
                } else if (btnE7.getText().equals(ghe.getMaGhe())) {
                    btnE7.setBackground(Color.RED);
                } else if (btnE8.getText().equals(ghe.getMaGhe())) {
                    btnE8.setBackground(Color.RED);
                } else if (btnE9.getText().equals(ghe.getMaGhe())) {
                    btnE9.setBackground(Color.RED);
                } else if (btnE10.getText().equals(ghe.getMaGhe())) {
                    btnE10.setBackground(Color.RED);
                } else if (btnF1.getText().equals(ghe.getMaGhe())) {
                    btnF1.setBackground(Color.RED);
                } else if (btnF2.getText().equals(ghe.getMaGhe())) {
                    btnF2.setBackground(Color.RED);
                } else if (btnF3.getText().equals(ghe.getMaGhe())) {
                    btnF3.setBackground(Color.RED);
                } else if (btnF4.getText().equals(ghe.getMaGhe())) {
                    btnF4.setBackground(Color.RED);
                } else if (btnF5.getText().equals(ghe.getMaGhe())) {
                    btnF5.setBackground(Color.RED);
                } else if (btnF6.getText().equals(ghe.getMaGhe())) {
                    btnF6.setBackground(Color.RED);
                } else if (btnF7.getText().equals(ghe.getMaGhe())) {
                    btnF7.setBackground(Color.RED);
                } else if (btnF8.getText().equals(ghe.getMaGhe())) {
                    btnF8.setBackground(Color.RED);
                } else if (btnF9.getText().equals(ghe.getMaGhe())) {
                    btnF9.setBackground(Color.RED);
                } else if (btnF10.getText().equals(ghe.getMaGhe())) {
                    btnF10.setBackground(Color.RED);
                }
            }
        }
    }

    //Thay đổi màu button khi click chọn
    private void changeColorButton(JButton button) {
        int mau = button.getBackground().getRGB();
        if (mau == -256) {
            button.setBackground(Color.WHITE);
            this.fillPriceTicket();
        } else if (mau == -593692 || mau == -1) {
            button.setBackground(Color.YELLOW);
            this.fillPriceTicket();
        } else {
            MsgBox.alert(this, "Ghế đã được chọn");
        }
    }

    //Fill giá vé theo từng loại vé
    private void fillPriceTicket() {
        txtGiaVe.setEditable(false);
        if (chkNguoiLon.isSelected()) {
            txtGiaVe.setText("85000");
        } else if (chkSinhVien.isSelected()) {
            txtGiaVe.setText("65000");
        } else {
            txtGiaVe.setText("55000");
        }
    }

    //Fill vào tổng tiền
    private void fillCountMoney(JButton button) {
        txtTongTien.setEditable(false);
        txtSoTienGiam.setEditable(false);
        txtSoTienCanTra.setEditable(false);
        int tongTien = Integer.parseInt(txtTongTien.getText());
        int giaVe = Integer.parseInt(txtGiaVe.getText());
        int maMau = button.getBackground().getRGB();
        int diemSD = Integer.parseInt(txtDiemSuDung.getText());
        if (maMau == -256) {
            int tong = tongTien + giaVe;
            tongTienGiaVe = tong;
            txtTongTien.setText(String.valueOf(tong));
            txtSoTienGiam.setText(String.valueOf(diemSD * 1000));
            txtSoTienCanTra.setText(String.valueOf(Integer.parseInt(txtTongTien.getText()) - Integer.parseInt(txtSoTienGiam.getText())));

        } else if (maMau == -593692 || maMau == -1) {
            int tong = tongTien - giaVe;
            tongTienGiaVe = tong;
            txtTongTien.setText(String.valueOf(tong));
            txtTongTien.setText(String.valueOf(tong));
            txtSoTienGiam.setText(String.valueOf(diemSD * 1000));
            txtSoTienCanTra.setText(String.valueOf(Integer.parseInt(txtTongTien.getText()) - Integer.parseInt(txtSoTienGiam.getText())));
        }
    }

    //Cập nhật giá từ Combo vào Tổng tiền
    public void updateCountMoney() {

    }

    public void openGioHang() {
//        GioHangJFrame giohang = new GioHangJFrame();
//        giohang.setVisible(true);
    }

    private void fillInforCustomer() {
        String sdt = txtSDT.getText();
        try {
            KhachHang kh = khDAO.selectBySDT(sdt);
            txtTenKhachHang.setText(kh.getTenKhachHang());
            int diemTL = kh.getDiemTichLuy();
            System.out.println(String.valueOf(diemTL));
            lblDiemTichLuy.setText(String.valueOf(kh.getDiemTichLuy()));
        } catch (Exception e) {
            MsgBox.alert(this, "Khách hàng không tồn tại!");
            throw new RuntimeException(e);
        }

    }

    int diemtichluy = 0;
    int giave = 0;
    int tientra = 0;

    //Xuất PDF
    private void xuatHoaDon() {
        QRcode();
        try {
            Document doc = new Document(PageSize.A5, 0f, 0f, 0f, 0f);
            FileOutputStream fos = new FileOutputStream("xuatve.pdf");

            PdfWriter.getInstance((com.itextpdf.text.Document) doc, fos);
            doc.open();
            //////////////////////////////////////////////
            Image img = Image.getInstance("src/com/cinesys/image/Logo_CGV.png");// nếu lỗi thì có thể là do đường dẫn ảnh sai
            img.setAlignment(Element.ALIGN_CENTER);
//            img.setIndentationRight(20);
//            img.setSpacingAfter(15);
            doc.add(img);
            ///////////////////////////////////////////////
            Paragraph tieude = new Paragraph(new Phrase(10f, "VE XEM PHIM",
                    FontFactory.getFont(FontFactory.COURIER, 18, Font.BOLD)));
            tieude.setSpacingBefore(20);
            tieude.setAlignment(Element.ALIGN_CENTER);
            tieude.setSpacingAfter(15);
            doc.add(tieude);
            ////////////////////////////////////////////////
            Paragraph diachirap = new Paragraph(new Phrase(10f, "Khach hang: Luong Vu Anh Tuan\n" + "Dia chi rap: Tang 4 Trung tam Thuong Mai Vincom Da Nang, Q, Ngo Quyen, An Hai Bac, Son Tra, Da Nang",
                    FontFactory.getFont(FontFactory.COURIER, 9, Font.BOLD)));
            diachirap.setIndentationLeft(8);
            diachirap.setIndentationRight(8);
            diachirap.setAlignment(Element.ALIGN_LEFT);
            diachirap.setSpacingAfter(10);
            doc.add(diachirap);
            ////////////////////////////////////////////////
            Paragraph gach1 = new Paragraph(new Phrase(5f, "-------------------------------------------------------------------------",
                    FontFactory.getFont(FontFactory.COURIER, 9, Font.BOLD)));
            gach1.setIndentationLeft(8);
            gach1.setIndentationRight(8);
            gach1.setAlignment(Element.ALIGN_LEFT);
            gach1.setSpacingAfter(10);
            doc.add(gach1);
            ////////////////////////////////////////////////
            Paragraph diachirap1 = new Paragraph(new Phrase(10f, "Big C Da Nang\n" + "14/FEB/2020  11:52\n" + "Staff: Anh Tuan",
                    FontFactory.getFont(FontFactory.COURIER, 9, Font.BOLD)));
            diachirap1.setIndentationLeft(8);
            diachirap1.setIndentationRight(8);
            diachirap1.setAlignment(Element.ALIGN_LEFT);
            diachirap1.setSpacingAfter(10);
            doc.add(diachirap1);
            ////////////////////////////////////////////////
            Paragraph gach11 = new Paragraph(new Phrase(5f, "-------------------------------------------------------------------------",
                    FontFactory.getFont(FontFactory.COURIER, 9, Font.BOLD)));
            gach11.setIndentationLeft(8);
            gach11.setIndentationRight(8);
            gach11.setAlignment(Element.ALIGN_LEFT);
            gach11.setSpacingAfter(10);
            doc.add(gach11);
            ////////////////////////////////////////////////
            Paragraph tenphim = new Paragraph(new Phrase(10f, "Ten Phim : ",
                    FontFactory.getFont(FontFactory.COURIER, 10)));
            tenphim.setIndentationLeft(13);
            Phrase ten
                    = new Phrase("BO GIA", FontFactory.getFont(FontFactory.COURIER, 13, Font.BOLD));
            tenphim.setAlignment(Element.ALIGN_LEFT);
            tenphim.setSpacingAfter(10);
            tenphim.add(ten);
            doc.add(tenphim);
            ////////////////////////////////////////////////
            Paragraph ngaygiochieu = new Paragraph(new Phrase(10f, "2021/12/16  " + "         19:00 PM"
                    + "~" + " 21:00 AM", FontFactory.getFont(FontFactory.COURIER, 13)));
            ngaygiochieu.setIndentationLeft(15);
            ngaygiochieu.setAlignment(Element.ALIGN_LEFT);
            ngaygiochieu.setSpacingAfter(5);
            doc.add(ngaygiochieu);
            ////////////////////////////////////////////////
            Paragraph diachi = new Paragraph(new Phrase(15f, "Cinema 1",
                    FontFactory.getFont(FontFactory.COURIER, 13, Font.BOLD)));
            diachi.setIndentationLeft(13);
            diachi.setIndentationRight(8);
            diachi.setAlignment(Element.ALIGN_LEFT);
            diachi.setSpacingAfter(10);
            doc.add(diachi);
            ////////////////////////////////////////////////
            Paragraph soghe = new Paragraph(new Phrase(10f, "So ghe : ",
                    FontFactory.getFont(FontFactory.COURIER, 10)));
            soghe.setIndentationLeft(13);
            Phrase ghe
                    = new Phrase("C9, C10", FontFactory.getFont(FontFactory.COURIER, 13, Font.BOLD));
            soghe.setAlignment(Element.ALIGN_LEFT);
            soghe.setSpacingAfter(10);
            soghe.add(ghe);
            doc.add(soghe);
            ////////////////////////////////////////////////
            Paragraph gach111 = new Paragraph(new Phrase(5f, "-------------------------------------------------------------------------",
                    FontFactory.getFont(FontFactory.COURIER, 9, Font.BOLD)));
            gach111.setIndentationLeft(8);
            gach111.setIndentationRight(8);
            gach111.setAlignment(Element.ALIGN_LEFT);
            gach111.setSpacingAfter(10);
            doc.add(gach111);
            ////////////////////////////////////////////////

            Paragraph tienve = new Paragraph(new Phrase(10f, "-2D All DAYS (TICKET COUVHER)            VND  " + "85.000\n" + "-2D All DAYS (TICKET COUVHER)            VND  " + "85.000\n",
                    FontFactory.getFont(FontFactory.COURIER, 10)));
            tienve.setIndentationRight(13);
            tienve.setIndentationLeft(13);
            tienve.setAlignment(Element.ALIGN_LEFT);
            tienve.setSpacingAfter(5);
            doc.add(tienve);
            ////////////////////////////////////////////////
            Paragraph doan = new Paragraph(new Phrase(10f, "TONG TIEN: ",
                    FontFactory.getFont(FontFactory.COURIER, 10)));
            doan.setIndentationRight(13);
            Phrase dichvu
                    = new Phrase("309.000 VND", FontFactory.getFont(FontFactory.COURIER, 11, Font.BOLD));
            doan.setAlignment(Element.ALIGN_LEFT);
            doan.setIndentationLeft(200);
            doan.setSpacingAfter(5);
            doan.add(dichvu);
            doc.add(doan);
            ////////////////////////////////////////////////
            Paragraph tiengiam = new Paragraph(new Phrase(10f, "Tien Giam 20000: ",
                    FontFactory.getFont(FontFactory.COURIER, 10)));
            tiengiam.setIndentationRight(82);
            Phrase giam
                    = new Phrase(diemtichluy + " VND", FontFactory.getFont(FontFactory.COURIER, 11, Font.BOLD));
            tiengiam.setAlignment(Element.ALIGN_RIGHT);
            tiengiam.setSpacingAfter(5);
            tiengiam.add(giam);
            doc.add(tiengiam);
            ////////////////////////////////////////////////
            Paragraph gach1111 = new Paragraph(new Phrase(5f, "-------------------------------------------------------------------------",
                    FontFactory.getFont(FontFactory.COURIER, 9, Font.BOLD)));
            gach1111.setIndentationLeft(8);
            gach1111.setIndentationRight(8);
            gach1111.setAlignment(Element.ALIGN_LEFT);
            gach1111.setSpacingAfter(10);
            doc.add(gach1111);
            ////////////////////////////////////////////////
            Paragraph maQR = new Paragraph(new Phrase(10f, "MÃ QR",
                    FontFactory.getFont(FontFactory.COURIER, 15, Font.BOLD)));
            maQR.setAlignment(Element.ALIGN_CENTER);
            maQR.setSpacingAfter(5);
            doc.add(maQR);
            ////////////////////////////////////////////////
            QRcode();// hàm này tạo ra 1 hình ảnh code QR
            Image imgQRcode = Image.getInstance(f.toString());// nếu lỗi thì có thể là do đường dẫn ảnh sai
            imgQRcode.setAlignment(Element.ALIGN_CENTER);
            imgQRcode.setSpacingAfter(15);
            doc.add(imgQRcode);
            ////////////////////////////////////////////////
            JOptionPane.showMessageDialog(this, "Đặt thành công");
            doc.close();
            openFilePDF();
        } catch (Exception e) {
            throw new RuntimeException(e);
        }
    }

    QRCodeWriter QRcode() {
        String tiengviet = "UTF-8";
        String content = "Vé xem phim \n"
                + "   Tên phim : " + lblTenPhim.getText() + "\n"
                + "   Số ghế : " + "C8" + "\n"
                + "   Giờ Chiếu : " + lblNgayChieu.getText() + " " + lblSuatChieu.getText() + " \n"
                + "   Giá vé : " + txtGiaVe.getText() + " \n"
                + "   Tiền Giảm : " + txtSoTienGiam.getText() + " \n"
                + "   Tiền Trả :  " + txtSoTienCanTra.getText() + "\n"
                + "   Trạng thái : Đã Thanh Toán";

        QRCodeWriter qrcodeWriter = new QRCodeWriter();

        try {
            Hashtable hint = new Hashtable();
            hint.put(EncodeHintType.CHARACTER_SET, "UTF-8");
            BitMatrix bitmatrix = qrcodeWriter.encode(content, BarcodeFormat.QR_CODE, 150, 150, hint);
//            BitMatrix matrix = new MultiFormatWriter().encode(
//            new String(content.getBytes(tiengviet), tiengviet),
//            BarcodeFormat.QR_CODE, 100, 100);
            StringBuilder tenanhQR = new StringBuilder("");
            int random = 0;
            for (int i = 0; i < 10; i++) {
                random = (int) Math.round(Math.random() * 9);
                tenanhQR.append(random);
                System.out.println(random);
            }
            f = new File("/Users/tuanlva/HOC/FALL2021/Du_An_1/CineSys/PS18390_LuongVuAnhTuan_CineSys/src/com/cinesys/image" + tenanhQR + ".jpg");
            output = new FileOutputStream(f);
            MatrixToImageWriter.writeToStream(bitmatrix, "jpg", output);
            System.out.println(bitmatrix);
        } catch (Exception e) {
        }
        return qrcodeWriter;
    }

    public void openFilePDF() {
        try {
            File pdfFile = new File("xuatve.pdf");
            if (pdfFile.exists()) {
                if (Desktop.isDesktopSupported()) {
                    Desktop.getDesktop().open(pdfFile);
                } else {
                    System.out.println("Awt Desktop is not supported!");
                }
            } else {
                System.out.println("File is not exists!");
            }
            System.out.println("Done");
        } catch (Exception e) {
            e.printStackTrace();
        }
    }

    //Cập nhật trạng thái ghê
    private void updateGhe() {

    }

    public void insertVe() {

    }

    //Lấy dữ liệu trên Form
    public Ve getForm() {
        KhachHangDAO_TU kh = new KhachHangDAO_TU();
        KhachHang_TU idkh = kh.selectByID(txtSDT.getText());
        Ve hd = new Ve();
        System.out.println(Float.parseFloat(txtGiaVe.getText()));
        hd.setGiave(Float.parseFloat(txtGiaVe.getText()));
        hd.setNgaymua(XDate1.now());
        hd.setMaghe("A1");// lấy btn mã ghế gắn vào
        if (idkh == null) {
            hd.setMakh(null);
        } else {
            hd.setMakh(idkh.getMaKH());
        }
        hd.setManv("teonv");
        hd.setMalc(2);
        hd.setMaphim("MP1");
        hd.setGiadichvu(20000); // lấy giá dịch vụ gắn vào đây
        hd.setMaqr(String.valueOf(f.getName()));
        if (txtSoTienGiam.getText().equals("")) {
            hd.setTiengiam(0);
        } else {
            hd.setTiengiam(Float.parseFloat(txtSoTienGiam.getText()));
        }// lấy mã phòng gắn vào đây
        return hd;
    }

    //Form Pdf
    public void formPdf() throws DocumentException {
        FileOutputStream fos = null;
        try {
            Document doc = new Document(PageSize.A6, 0f, 0f, 0f, 0f);
            fos = new FileOutputStream("xuatve.pdf");
            PdfWriter.getInstance((com.itextpdf.text.Document) doc, fos);
            doc.open();

            float col = 280f;
            float columnWidth[] = {col, col};

            PdfPTable table = new PdfPTable(columnWidth);

            table.addCell(new PdfPCell(new Phrase("Invoice")));

            table.addCell(new PdfPCell(new Phrase("Sarthi Technology\n#30A Lạc Long Quân\n0799077779")));

            doc.add(table);
            doc.close();
            System.out.println("PDF Created");
        } catch (FileNotFoundException ex) {
            Logger.getLogger(DatVeJDialog1.class.getName()).log(Level.SEVERE, null, ex);
        } finally {
            try {
                fos.close();
            } catch (IOException ex) {
                Logger.getLogger(DatVeJDialog1.class.getName()).log(Level.SEVERE, null, ex);
            }
        }

    }
}
